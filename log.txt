building the system configuration...
warning: Git tree '/Users/lemon/dev/nixos-config' is dirty
evaluation warning: 'system' has been renamed to/replaced by 'stdenv.hostPlatform.system'
evaluation warning: mkCargoDerivation's stdenv argument was set to a specific stdenv instance
                    while an stdenv selector function is recommended. Consider specifying a
                    function which selects an stdenv for any given `pkgs` instantiation:

                    stdenv = p: p.stdenv;
error:
       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'darwin-system-26.05.c31afa6'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'activationScript' of derivation 'darwin-system-26.05.c31afa6'
         at /nix/store/zdi8af86f5yr0a5z51zis17c9aq15cpg-source/modules/system/default.nix:89:7:
           88|
           89|       activationScript = cfg.activationScripts.script.text;
             |       ^
           90|

       … from call site
         at /nix/store/zdi8af86f5yr0a5z51zis17c9aq15cpg-source/modules/system/default.nix:89:26:
           88|
           89|       activationScript = cfg.activationScripts.script.text;
             |                          ^
           90|

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:275:71:
          274|           # For definitions that have an associated option
          275|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          276|

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1118:7:
         1117|     // {
         1118|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1119|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `system.activationScripts.script.text':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1192:5:
         1191|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1192|     mergedValue =
             |     ^
         1193|       if isDefined then

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1193:7:
         1192|     mergedValue =
         1193|       if isDefined then
             |       ^
         1194|         if type.merge ? v2 then

       … while evaluating the attribute 'values'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1186:9:
         1185|       {
         1186|         values = defsSorted;
             |         ^
         1187|         inherit (defsFiltered) highestPrio;

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1180:11:
         1179|           # Avoid sorting if we don't have to.
         1180|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |           ^
         1181|             sortProperties defsFiltered.values

       … while calling the 'any' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1180:14:
         1179|           # Avoid sorting if we don't have to.
         1180|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |              ^
         1181|             sortProperties defsFiltered.values

       … while evaluating the attribute 'values'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1360:7:
         1359|     {
         1360|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |       ^
         1361|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1360:16:
         1359|     {
         1360|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |                ^
         1361|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1160:26:
         1159|         # Process mkMerge and mkIf properties.
         1160|         defsNormalized = concatMap (
             |                          ^
         1161|           m:

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1161:11:
         1160|         defsNormalized = concatMap (
         1161|           m:
             |           ^
         1162|           map (

       … while calling the 'map' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1162:11:
         1161|           m:
         1162|           map (
             |           ^
         1163|             value:

       … while evaluating definitions from `/nix/store/zdi8af86f5yr0a5z51zis17c9aq15cpg-source/modules/system/activation-scripts.nix':

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1171:80:
         1170|               }
         1171|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1172|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1311:5:
         1310|   dischargeProperties =
         1311|     def:
             |     ^
         1312|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1312:5:
         1311|     def:
         1312|     if def._type or "" == "merge" then
             |     ^
         1313|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:805:21:
          804|             inherit (module) file;
          805|             inherit value;
             |                     ^
          806|           }) module.config

       … from call site
         at /nix/store/zdi8af86f5yr0a5z51zis17c9aq15cpg-source/modules/system/activation-scripts.nix:138:9:
          137|
          138|       ${cfg.activationScripts.postActivation.text}
             |         ^
          139|

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:275:71:
          274|           # For definitions that have an associated option
          275|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          276|

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1118:7:
         1117|     // {
         1118|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1119|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `system.activationScripts.postActivation.text':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/nix-darwin':

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1171:80:
         1170|               }
         1171|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1172|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1311:5:
         1310|   dischargeProperties =
         1311|     def:
             |     ^
         1312|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1312:5:
         1311|     def:
         1312|     if def._type or "" == "merge" then
             |     ^
         1313|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:805:21:
          804|             inherit (module) file;
          805|             inherit value;
             |                     ^
          806|           }) module.config

       … while calling the 'concatStringsSep' builtin
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/nix-darwin/default.nix:19:54:
           18|     (lib.mkIf (cfg.users != { }) {
           19|       system.activationScripts.postActivation.text = lib.concatStringsSep "\n" (
             |                                                      ^
           20|         lib.mapAttrsToList (

       … while calling anonymous lambda
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/nix-darwin/default.nix:21:21:
           20|         lib.mapAttrsToList (
           21|           username: usercfg:
             |                     ^
           22|           let

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'activation-lemon'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'text' of derivation 'activation-lemon'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:129:13:
          128|           inherit
          129|             text
             |             ^
          130|             executable

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'home-manager-generation'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'buildCommand' of derivation 'home-manager-generation'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:80:17:
           79|         enableParallelBuilding = true;
           80|         inherit buildCommand name;
             |                 ^
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'activation-script'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'text' of derivation 'activation-script'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:129:13:
          128|           inherit
          129|             text
             |             ^
          130|             executable

       … while calling the 'concatStringsSep' builtin
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/home-environment.nix:774:13:
          773|           if sortedCommands ? result then
          774|             lib.concatStringsSep "\n" (map mkCmd sortedCommands.result)
             |             ^
          775|           else

       … while calling 'mkCmd'
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/home-environment.nix:767:17:
          766|       let
          767|         mkCmd = res: ''
             |                 ^
          768|           _iNote "Activating %s" "${res.name}"

       … while evaluating the attribute 'data'
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/lib/dag.nix:100:45:
           99|       {
          100|         result = map (v: { inherit (v) name data; }) sorted.result;
             |                                             ^
          101|       }

       … while evaluating the attribute 'data'
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/lib/dag.nix:92:9:
           91|         name = n;
           92|         data = v.data;
             |         ^
           93|         after = v.after ++ dagBefore dag n;

       … from call site
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/lib/dag.nix:92:16:
           91|         name = n;
           92|         data = v.data;
             |                ^
           93|         after = v.after ++ dagBefore dag n;

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:275:71:
          274|           # For definitions that have an associated option
          275|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          276|

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1118:7:
         1117|     // {
         1118|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1119|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `home-manager.users.lemon.home.activation.checkFilesChanged.data':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/files.nix':

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1171:80:
         1170|               }
         1171|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1172|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1311:5:
         1310|   dischargeProperties =
         1311|     def:
             |     ^
         1312|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1312:5:
         1311|     def:
         1312|     if def._type or "" == "merge" then
             |     ^
         1313|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:805:21:
          804|             inherit (module) file;
          805|             inherit value;
             |                     ^
          806|           }) module.config

       … from call site
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/files.nix:259:9:
          258|       ''
          259|       + lib.concatMapStrings (
             |         ^
          260|         v:

       … while calling 'concatMapStrings'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:124:25:
          123|   */
          124|   concatMapStrings = f: list: concatStrings (map f list);
             |                         ^
          125|

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:124:31:
          123|   */
          124|   concatMapStrings = f: list: concatStrings (map f list);
             |                               ^
          125|

       … while calling the 'map' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:124:46:
          123|   */
          124|   concatMapStrings = f: list: concatStrings (map f list);
             |                                              ^
          125|

       … while calling the 'filter' builtin
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/files.nix:270:10:
          269|         ''
          270|       ) (lib.filter (v: v.onChange != "") (lib.attrValues cfg))
             |          ^
          271|       + ''

       … while calling anonymous lambda
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/files.nix:270:22:
          269|         ''
          270|       ) (lib.filter (v: v.onChange != "") (lib.attrValues cfg))
             |                      ^
          271|       + ''

       … from call site
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/files.nix:270:25:
          269|         ''
          270|       ) (lib.filter (v: v.onChange != "") (lib.attrValues cfg))
             |                         ^
          271|       + ''

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:275:71:
          274|           # For definitions that have an associated option
          275|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          276|

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1118:7:
         1117|     // {
         1118|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1119|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `home-manager.users.lemon.home.file."Library/Fonts/.home-manager-fonts-version".onChange':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/targets/darwin/fonts.nix':

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1171:80:
         1170|               }
         1171|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1172|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1311:5:
         1310|   dischargeProperties =
         1311|     def:
             |     ^
         1312|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:1312:5:
         1311|     def:
         1312|     if def._type or "" == "merge" then
             |     ^
         1313|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/modules.nix:805:21:
          804|             inherit (module) file;
          805|             inherit value;
             |                     ^
          806|           }) module.config

       … from call site
         at /nix/store/l2pl49aczg4lhid2xgnr497z439sx3sm-source/modules/targets/darwin/fonts.nix:26:13:
           25|         run ${pkgs.rsync}/bin/rsync $VERBOSE_ARG -acL --chmod=u+w --delete \
           26|           ${lib.escapeShellArgs [
             |             ^
           27|             "${fonts}/"

       … while calling 'concatMapStringsSep'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:261:13:
          260|   concatMapStringsSep =
          261|     sep: f: list:
             |             ^
          262|     concatStringsSep sep (map f list);

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:262:5:
          261|     sep: f: list:
          262|     concatStringsSep sep (map f list);
             |     ^
          263|

       … while calling 'escapeShellArg'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:1201:5:
         1200|   escapeShellArg =
         1201|     arg:
             |     ^
         1202|     let

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:1205:5:
         1204|     in
         1205|     if match "[[:alnum:],._+:@%/-]+" string == null then
             |     ^
         1206|       "'${replaceString "'" "'\\''" string}'"

       … while calling the 'match' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:1205:8:
         1204|     in
         1205|     if match "[[:alnum:],._+:@%/-]+" string == null then
             |        ^
         1206|       "'${replaceString "'" "'\\''" string}'"

       … while evaluating the second argument passed to builtins.match

       … while calling the 'toString' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/lib/strings.nix:1203:16:
         1202|     let
         1203|       string = toString arg;
             |                ^
         1204|     in

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'home-manager-fonts'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'passAsFile' of derivation 'home-manager-fonts'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:81:9:
           80|         inherit buildCommand name;
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);
             |         ^
           82|       }

       … while evaluating the attribute 'passAsFile'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:114:9:
          113|         # XXX: The size is somewhat arbitrary
          114|         passAsFile = if builtins.stringLength pkgs >= 128 * 1024 then [ "pkgs" ] else [ ];
             |         ^
          115|       }

       … while evaluating a branch condition
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:114:22:
          113|         # XXX: The size is somewhat arbitrary
          114|         passAsFile = if builtins.stringLength pkgs >= 128 * 1024 then [ "pkgs" ] else [ ];
             |                      ^
          115|       }

       … in the argument of the not operator
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:114:52:
          113|         # XXX: The size is somewhat arbitrary
          114|         passAsFile = if builtins.stringLength pkgs >= 128 * 1024 then [ "pkgs" ] else [ ];
             |                                                    ^
          115|       }

       … while calling the 'lessThan' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:114:52:
          113|         # XXX: The size is somewhat arbitrary
          114|         passAsFile = if builtins.stringLength pkgs >= 128 * 1024 then [ "pkgs" ] else [ ];
             |                                                    ^
          115|       }

       … while calling the 'stringLength' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:114:25:
          113|         # XXX: The size is somewhat arbitrary
          114|         passAsFile = if builtins.stringLength pkgs >= 128 * 1024 then [ "pkgs" ] else [ ];
             |                         ^
          115|       }

       … while calling the 'toJSON' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:109:16:
          108|         pathsToLinkJSON = builtins.toJSON pathsToLink;
          109|         pkgs = builtins.toJSON chosenOutputs;
             |                ^
          110|         extraPathsFrom = lib.optional includeClosures (writeClosure pathsForClosure);

       … while evaluating list element at index 26

       … while evaluating attribute 'paths'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:68:7:
           67|     chosenOutputs = map (drv: {
           68|       paths =
             |       ^
           69|         # First add the usual output(s): respect if user has chosen explicitly,

       … while evaluating list element at index 0
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/buildenv/default.nix:68:7:
           67|     chosenOutputs = map (drv: {
           68|       paths =
             |       ^
           69|         # First add the usual output(s): respect if user has chosen explicitly,

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'steam-1.0.0.85'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'buildCommand' of derivation 'steam-1.0.0.85'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:80:17:
           79|         enableParallelBuilding = true;
           80|         inherit buildCommand name;
             |                 ^
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'steam-1.0.0.85-bwrap'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'text' of derivation 'steam-1.0.0.85-bwrap'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:129:13:
          128|           inherit
          129|             text
             |             ^
          130|             executable

       … from call site
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/build-fhsenv-bubblewrap/default.nix:326:43:
          325|
          326|   bin = writeShellScript "${name}-bwrap" (bwrapCmd {
             |                                           ^
          327|     initArgs = ''"$@"'';

       … while calling 'bwrapCmd'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/build-fhsenv-bubblewrap/default.nix:175:5:
          174|   bwrapCmd =
          175|     {
             |     ^
          176|       initArgs ? "",

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'steam-1.0.0.85-fhsenv-rootfs'
         whose name attribute is located at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/stdenv/generic/make-derivation.nix:541:13

       … while evaluating attribute 'buildCommand' of derivation 'steam-1.0.0.85-fhsenv-rootfs'
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/trivial-builders/default.nix:80:17:
           79|         enableParallelBuilding = true;
           80|         inherit buildCommand name;
             |                 ^
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);

       … while calling the 'throw' builtin
         at /nix/store/ri19g370fjy8qwsfvg0fh7p6ziqmda4l-source/pkgs/build-support/build-fhsenv-bubblewrap/buildFHSEnv.nix:56:27:
           55|     }
           56|     .${stdenv.system} or (throw "Please expand list of system with defaultLib for '${stdenv.system}'");
             |                           ^
           57|

       error: Please expand list of system with defaultLib for 'aarch64-darwin'
